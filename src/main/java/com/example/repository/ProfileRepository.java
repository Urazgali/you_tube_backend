package com.example.repository;import org.springframework.data.jpa.repository.JpaRepository;import com.example.entity.ProfileEntity;import org.springframework.data.jpa.repository.Modifying;import org.springframework.data.jpa.repository.Query;import org.springframework.data.repository.query.Param;import org.springframework.stereotype.Repository;import org.springframework.transaction.annotation.Transactional;import java.util.Optional;@Repositorypublic interface ProfileRepository extends JpaRepository<ProfileEntity, Integer> {    Optional<ProfileEntity> findAllByEmailAndVisibleTrue(String username);    Optional<ProfileEntity> findByEmail(String email);    @Transactional    @Modifying    @Query("update ProfileEntity as p  set p.name=:name, p.surname =:surname where p.id =:id")    int updateDetail(@Param("id") Integer id, @Param("name") String name, @Param("surname") String surname);    @Query("from ProfileEntity as p where p.id =:id")    ProfileEntity getDetail(@Param("id") Integer id);    @Transactional    @Modifying    @Query("update ProfileEntity as p set p.photoId=:photoId, p.photoUrl=:photoUrl where p.id =:id")    int updateAttach(@Param("id") Integer id, @Param("photoId") String photoId, @Param("photoUrl") String photoUrl);}